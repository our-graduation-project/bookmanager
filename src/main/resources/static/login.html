<!DOCTYPE html>
<html>
<head>
	<title>Home</title>
<!-- metatags-->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content="" />
	<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false);
	function hideURLbar(){ window.scrollTo(0,1); } </script>
<!-- Meta tag Keywords -->
<!-- Custom-Style-Sheet -->
	<link href="dist/css/popuo-box.css" rel="stylesheet" type="text/css" media="all" />
	<link href="dist/css/style1.css" rel="stylesheet" type="text/css" media="all"/><!--style_sheet-->
	<link rel="stylesheet" href="dist/css/flexslider.css" type="text/css" media="screen" property="" />
	<link rel="stylesheet" href="dist/css/font-awesome1.css"> <!-- Font-Awesome_Icons-CSS -->
<!--//Custom-Style-Sheet -->
<!--online_fonts-->
	<script src="mydist/js/jquery.js"></script>
	<link href="http://maxcdn.bootstrapcdn.com/css?family=Audiowide" rel="stylesheet">
	<link href="http://maxcdn.bootstrapcdn.com/css?family=Montserrat+Alternates" rel="stylesheet">
<!--//online_fonts-->
</head>
<body>
<div class="w3l-head">
	<h1>读者系统</h1>
</div>
<div class="w3l-main">
<div class="w3l-left-side">
	
<div class="flexslider">
  <ul class="slides">
    <li>
      <img src="dist/images/g14.jpg" alt="image"/>
    </li>
    <li>
      <img src="dist/images/g11.jpg" alt="image"/>
    </li>
    <li>
      <img src="dist/images/g12.jpg" alt="image"/>
    </li>
    <li>
      <img src="dist/images/g13.jpg" alt="image"/>
    </li>
	<li>
      <img src="dist/images/g10.jpg" alt="image"/>
    </li>
  </ul>
</div>
</div>

<div class="w3l-rigt-side">
	<form action="#" method="post">
		<div class="w3l-signin">
			<a class="w3_play_icon1" href="#small-dialog1"> 登录</a>
		</div>
		<div class="clear"></div>
	</form>	
</div>
<div class="clear"></div>
</div>

<!--sign in form -->
<div id="small-dialog1" class="mfp-hide">
	<div class="wthree-container">
		<div class="wthree-form">
			<div class="agileits-2">
				<h2>登录</h2>
			</div>
				<div class="w3-user">
					<span><i class="fa fa-user-o" aria-hidden="true"></i></span>
					<input id="mailbox" type="text" name="Username" placeholder="邮箱" required="">
				</div>
				<div class="clear"></div>
				<div class="w3-psw">
					<span><i class="fa fa-key" aria-hidden="true"></i></span>
					<input id="userPwd" type="password" name="password" placeholder="密码" required="">
				</div>
				<div class="clear"></div>
				<div class="w3l-check">
					<span><a href="forgetpassword.html">忘记密码 ?</a></span>
				</div>
				<div class="clear"></div>
				<div class="signin">
<!--					<input type="submit" value="登录"/>-->
					<a style="display: inline-block; width: 220px;height: 45px;background-color: #5fd058d6;color: white;" onclick="login()" >登录</a>
				</div>
				<div class="clear">
					<span style="color: #9d0000"><label id="error"  style="display: none" >错误信息</label></span>
				</div>

		</div>
	</div>
</div>
<!--sign in form -->
<!-- for register popup -->

<footer>Copyright &copy; 2018.Company name All rights reserved.</footer>

	
<script type="text/javascript" src="dist/js/jquery-2.1.4.min.js"></script>

<!-- pop-up-box-js-file -->  
	<script src="dist/js/jquery.magnific-popup.js" type="text/javascript"></script>
<!--//pop-up-box-js-file -->
<script>

	function login(){
		var mailbox = $('#mailbox').val();
		var userPwd = $('#userPwd').val();


		console.log(mailbox + "----" + userPwd);
		if (mailbox == null || mailbox == undefined || mailbox.trim() == "") {
			$("#error").css("display","block");
			$("#error").html("用户邮箱不能为空");
			return false;
		}
		if (userPwd== null || userPwd == undefined || userPwd.trim() == "") {
			$("#error").css("display","block");
			$("#error").html("用户密码不能为空");
			$("#error").color("");
			return false;
		}

		var data = {"mailbox": mailbox,"userPwd":userPwd};

		$.ajax({
			//请求方式
			type : "POST",
			//请求的媒体类型
			contentType: "application/json;charset=UTF-8",
			//请求地址
			url : "user/login",
			//数据，json字符串
			data : JSON.stringify(data),
			success: function (result) {
				if (result.result) {
					alert("登录成功");
					window.location.href = "index.html";
				}
				else {
					console.log(result.message+"--"+result.result);
				}
			},
			error: function () {
				alert("操作失败");
			}

		})

	}

	$(document).ready(function() {
	$('.w3_play_icon,.w3_play_icon1,.w3_play_icon2').magnificPopup({
		type: 'inline',
		fixedContentPos: false,
		fixedBgPos: true,
		overflowY: 'auto',
		closeBtnInside: true,
		preloader: false,
		midClick: true,
		removalDelay: 300,
		mainClass: 'my-mfp-zoom-in'
	});
																	
	});
</script>
<!-- flexSlider -->
	<script defer src="dist/js/jquery.flexslider.js"></script>
	<script type="text/javascript">
		$(window).load(function(){
		  $('.flexslider').flexslider({
			animation: "slide",
			start: function(slider){
			  $('body').removeClass('loading');
			}
		  });
		});
	</script>
<!-- //flexSlider -->
</body>
</html>